{% extends "bootstrap/base.html" %} {% block title %}Global time{% endblock %} {% block content %}

<body onload="TodayDate()">
    <div class="container">
        <div class="page-header">
            <h1>Global clock <small>Beta</small></h1>
        </div>

        <div class="jumbotron" align=center>
            <p class="lead" id="nowdate"></p>
            <h1 id="nowtime"></h1>
        </div>

        <div class="container">
            <div class="row">
                <div class="table-responsive">
                    <div class="col-md-12" align=center>
                        <div class="panel panel-default">
                            <table class="table table-striped table-hover " align="center" border=1>
                                {% for n in cat1 %}
                                <tr>
                                    {% if loop.index0 == 0%}
                                        <th class="info" align="center"> {{n}} </th>
                                        {% if cnt >= 2 %}
                                        <th class="info" align="center"> {{cat2[loop.index0]}} </th>
                                        {% endif %}
                                        {% if cnt >= 3 %}
                                        <th class="info" align="center"> {{cat3[loop.index0]}} </th>
                                        {% endif %}
                                        {% if cnt >= 4 %}
                                        <th class="info" align="center"> {{cat4[loop.index0]}} </th>
                                        {% endif %}
                                    {% else %}
                                        <td align="center"> {{n}} </td>
                                        {% if cnt >= 2 %}
                                        <td align="center"> {{cat2[loop.index0]}} </td>
                                        {% endif %}
                                        {% if cnt >= 3 %}
                                        <td align="center"> {{cat3[loop.index0]}} </td>
                                        {% endif %}
                                        {% if cnt >= 4 %}
                                        <td align="center"> {{cat4[loop.index0]}} </td>
                                        {% endif %}
                                    {% endif %}
                                </tr>
                                {% endfor %}
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /container -->
</body>
{% endblock %} {% block scripts %}
<script>
    function TodayDate() {
        var today = new Date();
        var y = today.getFullYear();
        var month = today.getMonth();
        var d = today.getDate();
        var dow = today.getDay();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();

        var dayofw = new Array("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat");
        // add a zero in front of numbers<10
        m = checkTime(m);
        s = checkTime(s);
        //document.getElementById('nowtime').innerHTML = y + "/" + month + "/" + d + " (" + dayofw(dow) + ") " + h + ":" + m + ":" + s;
        document.getElementById('nowtime').innerHTML = h + ":" + m + ":" + s;
        document.getElementById('nowdate').innerHTML = y + "-" + month + "-" + d + " (" + dayofw[dow] + ") ";
        t = setTimeout(function () { TodayDate() }, 500);
    }

    function checkTime(i) {
        if (i < 10) {
            i = "0" + i;
        }
        return i;
    }

</script>
{{super()}} {% endblock %}